{% extends 'base.html' %}

{% load static %}

{% block stylesheet %}

{% endblock %}

{% block title %}
    Event
{% endblock %}

<body>
{% block content %}

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-md-10 col-sm-10">





                <div class="card" style="margin-bottom: 3%; margin-top: 3%">
                    <div class="card-header">
                        <div class="d-flex justify-content-center">
                             <h1 class="display-4">
                                {{ event.title }}
                            </h1>
                        </div>
                        <img class="card-img-top" src="{{ event.event_pic.url }}" alt="Card image" style="width:100%">
                    </div>
                    <div class="card-body">
                        <div>
                            <p>
                                {{ event.subject }}
                            </p>
                            <p>
                                {{ event.date }}
                            </p>
                            <p>
                                {{ event.created_by }}
                            </p>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="row mb-1">
                            <div class="col-lg-2 col-md-4 col-sm-6">
                                {% if is_liked %}
                                    <button class="btn btn-light like like__icon d-flex justify-content-start" id="{{ event.id }}" style="fill: #ff0000; color: #0000cc">
                                        <svg version="1.1" width="25%" height="25%" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve" class="d-flex align-self-center">
                                            <path d="M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543
                                            c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503
                                            c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z"/>
                                        </svg>
                                        <span>
                                            &ensp;
                                        </span>
                                        <span class="like__count d-flex align-self-center" id="count {{ event.id }}"> Likes {{ total_likes }}</span>
                                    </button>
                                {% else %}
                                    <button class="btn btn-light like like__icon d-flex justify-content-start" id="{{ event.id }}" style="fill: #ffb8b8; color: #0000cc">
                                        <svg version="1.1" width="25%" height="25%" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve" class="d-flex align-self-center">
                                            <path d="M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543
                                            c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503
                                            c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z"/>
                                        </svg>
                                        <span>
                                            &ensp;
                                        </span>
                                        <span class="like__count d-flex align-self-center" id="count {{ event.id }}"> Likes {{ total_likes }}</span>
                                    </button>
                                {% endif %}
                            </div>

                            <div class="d-flex align-self-center justify-content-end col-lg-10 col-md-8 col-sm-6">
                                <span>
                                    Comments: {{ event.messages.count }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 3%">
                    <form method="post" novalidate>
                        {% csrf_token %}
                        {% include 'includes/form.html' %}
                        <button type="submit" class="btn btn-primary btn-block">Comment</button>
                    </form>
                </div>

                <div id="comslist"></div>

                <button class="more btn btn-primary btn-block"> &laquo; More &raquo; </button>

            </div>

            </div>
        </div>
    </div>

{% endblock %}
</body>

{%  block script %}
    <script src="{% static 'js/like.js' %}"></script>
    <script src="{% static 'js/index.js' %}"></script>
{% endblock %}